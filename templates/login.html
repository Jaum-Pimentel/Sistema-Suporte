<style>
    /* Removemos o estilo do body para não conflitar com o base.html */
    
    /* O Container agora age como uma "capa" por cima de tudo */
    .form-container {
        position: fixed; /* Fixa na tela, ignorando o resto do layout */
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh; /* 100% da altura da visão */
        z-index: 9999; /* Garante que fique acima do menu lateral */
        
        /* Gradiente e Animação movidos para cá */
        background: #0f0c29;
        background: linear-gradient(-45deg, #0f0c29, #302b63, #24243e, #180018);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
        
        /* Centralização Flexbox */
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    /* Elementos flutuantes (agora dentro do container fixo) */
    .background-shape {
        position: absolute;
        filter: blur(90px);
        z-index: -1; /* Fica atrás do vidro */
        opacity: 0.6;
    }
    .shape-1 {
        top: 10%;
        left: 10%;
        width: 500px;
        height: 500px;
        background: #7b2cbf;
        border-radius: 50%;
        animation: float 6s ease-in-out infinite;
    }
    .shape-2 {
        bottom: 10%;
        right: 10%;
        width: 400px;
        height: 400px;
        background: #d412d4;
        border-radius: 50%;
        animation: float 8s ease-in-out infinite reverse;
    }

    @keyframes float {
        0% { transform: translate(0, 0); }
        50% { transform: translate(20px, 40px); }
        100% { transform: translate(0, 0); }
    }

    /* O Cartão de Vidro (Glassmorphism) */
    .form-box {
        position: relative;
        z-index: 2;
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 50px 40px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        text-align: center;
        width: 100%;
        max-width: 420px;
    }
    
    /* --- O RESTANTE DO CSS PERMANECE IGUAL --- */
    .form-header h2 { color: #fff; font-weight: 700; font-size: 2.2em; margin-bottom: 10px; }
    .form-header p { color: #bcaec7; font-size: 0.95em; margin-bottom: 30px; }
    .input-group { margin-bottom: 25px; text-align: left; }
    .input-group label { display: block; color: #d412d4; font-size: 0.85em; font-weight: 600; margin-bottom: 8px; margin-left: 5px; text-transform: uppercase; letter-spacing: 1px; }
    .input-group input { width: 100%; padding: 15px 20px; background: rgba(0, 0, 0, 0.3); border: 2px solid transparent; border-radius: 12px; color: #fff; font-size: 1em; outline: none; transition: all 0.3s ease; box-sizing: border-box; }
    .input-group input:focus { background: rgba(0, 0, 0, 0.5); border-color: #d412d4; box-shadow: 0 0 15px rgba(212, 18, 212, 0.3); }
    .submit-btn { width: 100%; padding: 15px; background: linear-gradient(90deg, #d412d4, #7b2cbf); border: none; border-radius: 12px; color: #fff; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: all 0.4s ease; margin-top: 10px; box-shadow: 0 5px 15px rgba(212, 18, 212, 0.4); }
    .submit-btn:hover { background: linear-gradient(90deg, #f542f5, #9d4edd); transform: translateY(-3px); box-shadow: 0 10px 25px rgba(212, 18, 212, 0.6); }
    .form-actions { display: flex; justify-content: space-between; margin-top: 20px; margin-bottom: 20px; font-size: 0.9em; }
    .switch-form-link { color: #bcaec7; text-decoration: none; transition: color 0.3s; }
    .switch-form-link:hover { color: #d412d4; }
    .flash { padding: 12px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9em; text-align: center; }
    .flash.danger { background: rgba(220, 38, 38, 0.2); border: 1px solid #ef4444; color: #fca5a5; }
    .flash.success { background: rgba(16, 185, 129, 0.2); border: 1px solid #10b981; color: #6ee7b7; }
</style>

<div class="form-container">
    <div class="background-shape shape-1"></div>
    <div class="background-shape shape-2"></div>

    <div class="form-box">
        <div class="form-header">
            <h2>AUVO <span style="font-weight:300; font-size:0.8em;">SUP</span></h2>
            <p>Entre com suas credenciais para acessar.</p>
        </div>
        
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="flash {{ category }}">{{ message }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}

        <form method="POST" action="">
            {{ form.hidden_tag() }}
            <div class="input-group">
                {{ form.username.label }}
                {{ form.username(placeholder="Seu usuário") }}
            </div>
            <div class="input-group">
                {{ form.password.label }}
                {{ form.password(placeholder="Sua senha") }}
            </div>

            <div class="form-actions">
                <a href="{{ url_for('register') }}" class="switch-form-link">Não tem conta? Criar</a>
                <a href="{{ url_for('reset_request') }}" class="switch-form-link">Esqueceu a senha?</a>
            </div>
            
            {{ form.submit(class="submit-btn", value="Entrar no Sistema") }}
        </form>
    </div>
</div>